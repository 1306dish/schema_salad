"@context":
  "@base": "https://w3id.org/cwl/salad#"
  "sld": "https://w3id.org/cwl/salad#"
  "avro": "https://w3id.org/cwl/avro#"
  "dct": "http://purl.org/dc/terms/"
  "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  "rdfs": "http://www.w3.org/2000/01/rdf-schema#"

"@graph":
- name: "Schema_Annotations_for_Linked_Avro_Data"
  type: documentation
  doc: |
    Work in progress.

- name: "Datatype"
  type: enum
  symbols:
    - "avro:null"
    - "avro:boolean"
    - "avro:int"
    - "avro:long"
    - "avro:float"
    - "avro:double"
    - "avro:bytes"
    - "avro:string"
    - "avro:record"
    - "avro:enum"
    - "avro:array"
    - "sld:documentation"
    - "sld:Any"
  doc: |
   Salad data types are based on Avro schema declarations.  Refer to the
   [Avro schema declaration documentation](https://avro.apache.org/docs/current/spec.html#schemas) for
   detailed information.

   ## Primitive types

   * **null**: no value
   * **boolean**: a binary value
   * **int**: 32-bit signed integer
   * **long**: 64-bit signed integer
   * **float**: single precision (32-bit) IEEE 754 floating-point number
   * **double**: double precision (64-bit) IEEE 754 floating-point number
   * **bytes**: sequence of uninterpreted 8-bit unsigned bytes
   * **string**: Unicode character sequence

   ## Complex types

   * **record**: An object with one or more fields defined by name and type
   * **enum**: A value from a finite set of symbolic values
   * **array**: An ordered sequence of values

   ## Any type

    The **Any** type validates for any non-null value.


- name: "Any"
  type: enum
  docParent: "#Datatype"
  symbols: ["#Any"]
  doc: |
    The **Any** type validates for any non-null value.


- name: JsonldPredicate
  type: record
  fields:
    - name: _id
      type: ["null", string]
      jsonldPredicate:
        _id: sld:_id
        _type: "@id"
        checkedURI: false
    - name: _type
      type: ["null", string]
    - name: checkedURI
      type: ["null", boolean]


- name: Schema
  type: record
  doc: "A schema defines an object type."
  abstract: true
  fields:
    - name: name
      type: ["null", string]
      jsonldPredicate: "@id"

    - name: "type"
      doc: "The data type of this object."
      type:
        - "#Datatype"
        - "#Schema"
        - "string"
        - type: "array"
          items: [ "#Datatype", "#Schema", "string" ]
      jsonldPredicate:
        _id: "avro:type"
        _type: "@vocab"

    - name: doc
      type: ["null", string]

    - name: docParent
      type: ["null", string]
      jsonldPredicate:
        _id: "sld:docParent"
        _type: "@id"

    - name: docAfter
      type: ["null", string]

    - name: jsonldPrefix
      type: ["null", string]

    - name: jsonldPredicate
      type:
        - "null"
        - string
        - "#JsonldPredicate"

    - name: validationRoot
      type: ["null", boolean]


- name: RecordSchema
  type: record
  extends: "#Schema"
  validationRoot: true
  fields:
    - name: "fields"
      type:
        - type: "array"
          items: "#Schema"
      jsonldPredicate: "avro:fields"
      doc: "When `type` is `record`, defines the fields of the record."
    - name: extends
      type: ["null", string]
      jsonldPredicate:
        _id: "sld:extends"
        _type: "@id"

    - name: specialize
      type: ["null", string]


- name: EnumSchema
  type: record
  validationRoot: true
  extends: "#Schema"
  fields:
    - name: "symbols"
      type:
        - type: "array"
          items: "string"
      jsonldPredicate:
        _id: "avro:symbols"
        _type: "@id"
        checkedURI: false
      doc: "When `type` is `enum`, defines the set of valid symbols."


- name: ArraySchema
  type: record
  validationRoot: true
  extends: "#Schema"
  fields:
    - name: items
      type:
        - "#Datatype"
        - "#Schema"
        - string
        - type: array
          items: [ "#Datatype", "#Schema", string ]
      jsonldPredicate:
        _id: "avro:items"
        _type: "@vocab"
      doc: "When `type` is `array`, defines the type of the array elements."
